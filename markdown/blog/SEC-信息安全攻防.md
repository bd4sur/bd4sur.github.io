#!title:    信息安全攻防

#!content

![ ](./image/G3/cybersec/敌人盯上我们.jpg)

# 拾零

- [风险管理](https://zh.wikipedia.org/wiki/%E9%A3%8E%E9%99%A9%E7%AE%A1%E7%90%86)
- [生命攸关系统](https://zh.wikipedia.org/wiki/%E7%94%9F%E5%91%BD%E6%94%B8%E9%97%9C%E7%B3%BB%E7%B5%B1)
- [失效安全](https://zh.wikipedia.org/wiki/%E5%A4%B1%E6%95%88%E5%AE%89%E5%85%A8)（防呆）与本质安全（正反面都可以插）
- [可服务性](https://zh.wikipedia.org/wiki/%E6%9C%8D%E5%8B%99%E6%80%A7_\(%E9%9B%BB%E8%85%A6\))

# 灵感

2022-04-12

如果一定要追问，为什么要把安全构筑在公开透明（但密钥保密）的基础上，我的理解就是，还是要追溯到单向函数和天窗（陷门）函数这两个计算模型。说到底还是计算理论。当然，按照《计算理论导引》中的说法，计算复杂性理论只是为研究信息安全提供了一个基本的上下文，但这个上下文似乎并不是唯一的。因为安全不仅仅是个技术问题，它还有人的因素。**安全的终极目标是通过各种手段去构筑“信任”，这是个很唯心的东西。**进一步考虑，某种意义上，不要把认识优势完全建立在信息隐藏上（当然，这不是否定信息隐藏的必要性，事实上“保密性”是安全的很重要的一方面，而信息隐藏是实现保密性的一个手段）。不要觉得自己有什么独门秘籍，不告诉别人，自己就会有优势。实际上应该反过来，能讲出来的，要昭告天下，让所有人都知道，而讲不出来的那部分，才是真正的核心竞争力。

安全领域的知识库让我大开眼界…所以说情报学是元科学。为什么要这样做呢，一是因为安全有老中医的特点（孙子兵法、本草纲目、中国药典，都是这种），二是基于“安全基于公开透明”的原则，即所谓的Kerckhoff's principle 或者 Shannon's maxim。对于典型的漏洞、威胁、控制措施等案例，必须记忆，哪怕不理解，也要先记住。刚才看空中浩劫，发现紧急检查单有些是要求飞行员记忆的，这样在紧急情况下就能节省查找检查单的时间。

2022-04-09

![加密通信一般模型](./image/G3/encrypted-comm-model.png)

# 概念·原则·战略

## 安全属性和安全权利

**第一层次：简单安全属性（CIA）**

|属性|威胁|对策|
|-------------------------------------|
|Confidentiality<br>保密性|窃取<br>嗅探、肩窥<br>窃取口令|静态数据加密（全盘加密等）<br>通信加密（IPSec、TLS、SSL、SSH…）<br>|
|Integrity<br>完整性|篡改、删除<br>逻辑炸弹|哈希、校验码、数字签名|
|Availability<br>可用性|拒绝服务攻击<br>自然灾害|备份|

**第二层次：派生安全属性**

身份安全（访问控制）三要素（AAA）

|要素|属性|威胁|对策|
|-------------------------------------|
|认证<br>Authentication|真实性<br>正确的人|伪造身份|口令、令牌、生物信息、多因素认证|
|授权（鉴权）<br>Authorization|恰当性<br>做正确的事|提权||
|审计<br>Accounting|不可抵赖性<br>做事必留痕|||

事务性（ACID）：原子性Atomicity、一致性Consistency、隔离性Isolation、持久性Durability

公平性…

**第三层次：安全权利**

- 所有权/承包权/经营权、隐私权、知识产权、安宁权……

## 威胁建模

**威胁的分类分级**

微软的STRIDE模型

|类别|举例|对策|
|--------------------|
|Spoofing<br>仿冒||访问控制|
|Tampering<br>篡改||完整性校验|
|Repudiation<br>抵赖||安全审计、监控|
|Info Disclosure<br>泄密||加密、访问控制|
|Deny of Service<br>拒绝服务||负载均衡|
|Elevation of Privilege<br>提权||访问控制|
|Advanced<br>其他|||

https://www.freebuf.com/articles/es/205984.html

# 人员安全与风险管理

**风险是什么：不确定性对目标的影响**

- 风险源、事件、后果、几率。
- 风险 = 后果 × 几率

**风险管理原则**：全面性、系统性、因地制宜、集思广益、快速响应、知识管理、人文因素、持续改进

风险管理的一个重要思维就是“容忍”，风险是客观存在的，不可能每个都缓解掉，总要接受一些，而主体自身要加强弹性、韧性、顽健性、耐操性。

**风险管理框架和流程**

- 风险管理一般流程：建立上下文→风险识别→风险分析→风险评级→风险处置
- 风险处置方案：缓解、规避、转移、接受
- 风险处置原则：合规、有效、受控、成本收益……
- 三道防线模型：业务一线→专职风险管理部门→审计部门

**重要的风险管理标准/规范**

- ISO 31000
- ISO 27005
- GB/T 20984 信息安全风险评估规范

# 业务连续性计划

# 法律合规

# 资产安全

![ ](./image/G3/cybersec/privacy-paranoid.png)

![[反对DRM之旗](https://zh.wikipedia.org/wiki/%E8%A8%80%E8%AE%BA%E8%87%AA%E7%94%B1%E4%B9%8B%E6%97%97)：旗帜上的颜色条对应的是HD DVD和蓝光光盘中的AACS加密密钥`09 F9 11 02 9D 74 E3 5B D8 41 56 C5 63 56 88 C0`，用户以此绕过数字版权管理，任意拷贝光盘。](./image/G3/cybersec/free-speech-flag.svg)

## 网易云甚至可以听歌

2022-05-09：在网易云音乐，你甚至可以听歌。昨晚发现又有一些歌莫名其妙下架了，幸亏我有雁过拔毛的好习惯。安全领域的一个顶级概念就是安全属性和权利金字塔，塔基是CIA三属性，塔身是可靠性、不可抵赖性、身份安全与访问控制、事务性、公平性等等，塔顶就是安全权利，包括所有权/使用权/经营管理权、隐私权、知识产权等等。有了这个理论框架，就可以明白，我多年来所做的大量工作，包括数据资产盘点、安全技术和管理保障、数据资产应用等等，其实很大程度上是为了确保我对于我的数据资产拥有可靠的、值得信任的物权。

![ ](./image/G2/metaverse.jpg)

![ ](./image/G3/cybersec/musk-twitter-tesla.jpg)

> 元宇宙就是让扎克伯格等大佬用毫无边际成本的虚拟商品持续割韭菜，最大化地剥削一般人的价值。数字虚拟化的商品的分发边际成本几乎为零，所以商品的“私有”属性也接近于无。以前我买个游戏，物理属性就是一张碟。我有这张碟，就等于拥有这个游戏。我可以把这个游戏二手卖掉。现在呢？数字分发，游戏绑定我的Steam账号，我买的不是这个游戏，而是游戏的永久使用权。进一步地，现在微软EA都有游戏订阅服务，你现在连永久使用权都没有了，只有临时租用权，哪天你不付月费了，这些游戏立马清零。所以，目前业界趋势就是一切都是租用，“服务化”，你对商品没有私有产权。

> 这比现实中的银行要狠几百倍。银行贷款买房子产权好歹是你的，银行要收，还要去法院打官司。在元宇宙里你根本没有私有财产权，所有的东西都是租的，可能你看似风风光光，其实没有任何一件东西是属于你的，续费一停，你立马社死。你只要活着，就是源源不断地给钱。到这个时候，你基本上就和《矩阵》里的人肉电池没什么区别了，你的肉身的物理需求被压缩到最小，只维持最基本的生存，你的精神活在元宇宙里，你的唯一作用就是给扎克伯格续一辈子的费。现实中做一顶帽子只能卖给一个人，在元宇宙里，Meta做一顶帽子可以租给全元宇宙的人，每个租客只要戴着就要源源不断地给这顶帽子付钱，还免费贡献戴帽的实时数据。这种经营模式一旦建立，说是印钞机都不过分。（[来源](https://www.zhihu.com/question/496880204/answer/2216612288)）

# 密码学基础

## 单向函数与陷门函数

### 单向函数

[单向函数](https://zh.wikipedia.org/wiki/%E5%96%AE%E5%90%91%E5%87%BD%E6%95%B8)

良好的密码散列算法，应具备以下三个主要特性：

- 是单向函数，难以反演。
- 容易计算。
- 有[雪崩效应](https://zh.wikipedia.org/wiki/%E9%9B%AA%E5%B4%A9%E6%95%88%E5%BA%94)以避免碰撞（多对一概率极低，且原始消息的微小差异会导致散列值的巨大变化），这也保证了一旦散列值被计算出来，则（实际上）无法修改原始消息。

![单向函数的形式定义（参考《计算理论导引》第三版）](./image/G3/cybersec/one-way-function.png)

### 陷门函数

[陷门函数](https://zh.wikipedia.org/wiki/%E9%99%B7%E9%97%A8%E5%87%BD%E6%95%B0)：陷门函数是一种在一个方向上很容易计算，但在没有特殊信息的情况下很难在相反方向上计算（反演，即寻找它的逆）的函数，称为“陷门”。陷门函数是单向函数的一种特殊情况，广泛用于公钥密码学中。考虑一把挂锁和它的钥匙。通过推动卸扣，无需使用钥匙即可将挂锁锁上。然而，想要轻松地开锁，则必需使用钥匙。这里的钥匙是陷门，而挂锁则是陷门函数。

![陷门函数示意图[来源](https://upload.wikimedia.org/wikipedia/commons/8/8f/Trapdoor_permutation.svg)](./image/G3/cybersec/trapdoor-permutation.svg)

![天窗（陷门）函数的形式定义（参考《计算理论导引》第三版）](./image/G3/cybersec/trapdoor-function.png)

## 非对称加密

2020年9月16日笔记

![ ](./image/G3/cybersec/非对称加密.jpg)

非对称加密两个场景，信息保密和身份验证。

- 信息保密：甲给乙发送消息，甲用乙的公钥对消息加密，乙得到密文后，能且只能用自己的私钥解密。这可以保证消息只有甲乙两人知道。
- 身份验证/数字签名：某甲创作了一幅插画，希望证明是自己原创。于是某甲用自己的私钥对原作的摘要进行加密，并将加密后的密文附在原作上作为签名。任何拥有甲的公钥的人，都可以对签名进行解密，得到原作的摘要。这样就证明了以下几件事情：
-- 既然能用甲的公钥解密，证明签名必然是且仅是由某甲的私钥加密过的（也就是某甲自己签署的，甲无法否认）。
-- 如果解密后的摘要与原作相对应，说明原作是完整的、没有被篡改过的。

# 密码学应用与公钥基础设施

时间戳协议

- 场景：确认知识产权的首创性；确认事件的准确发生时间；防止事先伪造、预测、钦定等
- 利用权威时间戳、日志等：如邮戳（有相应的管理制度，以及对盖戳人资质的认证。据说古代学者会把自己的发现写下来，装到信封里寄出去（比如寄给自己），利用信封上的邮戳来证明自己不晚于何时做出了某个发现。）、公证（如[时间戳服务](https://www.tsa.cn/)，报纸就是一个最常见的公证服务，如遗失声明等）、arXiv、GitHub
- 利用不可预测事件：如报纸和新闻事件（例如办理护照等证件需要手持当日当地报纸拍照，《半泽直树》中曾用到这个方法证明相关文件在检查日当天仍处于己方控制）、[比特币](https://www.zhihu.com/question/22298502/answer/20962822)、彩票开奖结果（例如2021年12月HackRF抽奖）
- [RFC3161](https://www.ietf.org/rfc/rfc3161.txt)
- [Wiki: Trusted timestamping](https://en.wikipedia.org/wiki/Trusted_timestamping)
- [截图如何证明当前时间？](https://www.zhihu.com/question/22298502/answer/20990818)

# 安全模型

# 弱点·威胁·对策

## 漏洞和攻防案例

![攻击的武器 vs 武器的攻击 [xkcd-538](https://xkcd.com/538/)](./image/G3/cybersec/xkcd-538.png)

[ATT&CK](https://attack.mitre.org/) / [CAPEC](https://capec.mitre.org/) / [CVE](https://cve.mitre.org/) / [CWE](https://cwe.mitre.org/)

- [如何写出无法维护的代码](https://coolshell.cn/articles/4758.html)
- [CVE-2021-30860](https://googleprojectzero.blogspot.com/2021/12/a-deep-dive-into-nso-zero-click.html)（[中文](https://geeknb.com/17523.html)）：零点击攻击，利用苹果iMessage内置PDF引擎中JBIG2解析引擎的缓冲区溢出漏洞，实现逻辑门操作，使其能够在任意内存地址写入恶意代码。
- [奔腾浮点除错误](https://zh.wikipedia.org/wiki/%E5%A5%94%E8%85%BE%E6%B5%AE%E7%82%B9%E9%99%A4%E9%94%99%E8%AF%AF)
- Intel Quark X1000 的`lock`指令[错误](https://en.wikipedia.org/wiki/Intel_Quark)。
- [时序攻击](https://www.zhihu.com/question/263893653/answer/280379706)
- [fork炸弹](https://zh.wikipedia.org/wiki/Fork%E7%82%B8%E5%BC%B9)：`:(){ :|:& };:`
- 夫妻二人共同掌握财权。方式是：银行卡密码一共六位数，一个人掌握前三位，另一个人掌握后三位，必须二人共同在场才能输入完整密码。
- 在车牌上写SQL语句，当汽车通过闸机时，OCR将车牌上的内容识别为字符串，进入系统，执行SQL注入攻击。
- 公开情报分析与开源网络情报（OSINT）：通过街景定位拍摄地点。甚至可以建立一个外景特征索引库，通过某种CV算法，从包含外景的照片中自动还原出拍摄位置和拍摄角度。所以某种程度上说，室内景反而比外景要安全得多。但需要注意的是，站在室内尤其是家中，拍窗外景象，信息量也非常大。
- 个人隐私保护方面的一个经验，姑且称为“全息隐私审查”。简单来说，就是拍摄一张照片，并且要把它发布到公开场合，除了清除元数据之外，还应该对图像做一些简单处理，确认图片中没有隐匿的敏感信息，比如屏幕倒影等等。一个简单的方法就是拉曲线。
- 发错邮件又无法撤回怎么办？立刻发送大量邮件，然后向对方解释是误发。
- MD5不动点（整理于2020.5.3，[参考](https://www.zhihu.com/question/26700222/answer/178320838)。）
- 2022-08-13，滴滴在北京西单举行免单活动（终点是西单的一律免费），导致全北京数千网约车涌向西单，严重拥堵，交通瘫痪。最后滴滴宣布活动取消。

![该图片的MD5等于图片中显示的数值](./image/G3/cybersec/md5.gif)

> 关于睡眠排序和时序攻击

> 2018-03-27灵感：前段时间在知乎上偶然看到一些奇葩的#(排序)#算法，就很想写一篇笔记把它们记下来。其中一种是#(睡眠排序)#，相当佛系的一款排序算法。Tim排序是一款效率较高且稳定的排序算法，但是比较复杂。[这篇文章](http://www.freebuf.com/vuls/62129.html)讲得很好，值得一读。

> 众所周知JavaScript是一款以单线程异步为特色的语言，使用内置函数setTimeout很容易实现睡眠排序。但是，不论是V8引擎的事件循环，还是操作系统提供的多线程机制，精确延时都是不可能的（除非使用RTOS或者硬件定时器绕开操作系统的调度）。睡眠排序这一玩具算法可以帮助我们理解事件循环机制。点击下面的乱序数组，使用睡眠排序对其进行排序。为了体现出明显的排序错误，程序将100个相同的排序任务加入任务队列，每个排序任务以10~1000ms的周期反复执行。数组后面的数字是排序次数。不要点太多次，否则可能会卡住。

> 点击排序：<span style="color:\#558bc4;" class="sleep_sort_demo" onclick="let counter=0;for(let i=1;i<100;i++){setInterval(()=>{counter++;let a=\[9,1,8,2,7,3,6,4,5,10,0\];let sorted=\[\];a.forEach(function(e,i,a){setTimeout(()=>sorted.push(e),e+2);});setTimeout(function(){$('.sleep_sort_demo').html(JSON.stringify(sorted)+counter);},100);}, i*10);}">\[9,1,8,2,7,3,6,4,5,10,0\]</span>

- 除留余数法的散列函数，除数一般选择远离2的幂的质数，原因是避免破坏散列函数的单向性，减小碰撞概率。具体来说，如果除数为2的幂，则散列值暴露了原始数据的高位，也便于攻击者构造输入数据以碰撞特定的散列值。如果除数为合数，那么对于具有特定周期性的原始数据而言，合数除数（与原始数据周期不互质）容易增大碰撞概率。自然界中一个典型案例：蝉的生命周期一般是13、17年，是质数，其目的就在于使其出土时尽可能不与其天敌“碰撞”，这就导致其生命周期尽量与其他物种互质。齿轮的齿数也尽可能互质。
- Ctrl+Alt+Delete组合键是一个“Secure Attention Key”（可译为安全注意键），直接与操作系统内核相关联，其主要作用就是为了防止恶意程序通过伪造系统登录界面的方式盗取用户的用户名和密码。当用户按下SAK的时候，操作系统以最大优先级在系统界面上弹出相应的系统程序，如Windows的任务管理器、注销按钮等；或选择终止全部进程，从而遮挡/终止这个通过伪造登录界面的恶意软件的进程，并进行可信登录流程处理。（[来源](https://www.zhihu.com/question/26221941/answer/2411973281)）

**密码学攻击**

- AF缺乏淡水

# 物理安全

# 网络技术基础

# 通信安全和网络攻防

# 身份认证与访问控制

# 安全评估和测试

# 安全运营

# 防范和响应

# 应急预案

# 具体信息安全技术

# 几种无线攻防手段

2021-11-02

说到无线安全的问题，我并没有专门研究过，不过多少了解一点，这里简单记录一点。

频谱战的第一步就是频谱感知。连接到互联网上的无线电设备，典型的如WebSDR、数字中继等，实际上起到了电磁环境探针的作用，设台地的电波信号和传播特性可能暴露于非合作势力的眼前。虽然单个局点的信息可能价值不高，但是如果采取众包的方式大量收集数据，则可以分析出有价值的情报，因此有一定的安全隐患。关于无线安全，大概有这样几个方面，这里举一些我所知道的例子：

+ **电磁环境感知**。有Ham曾试验发射高仰角短波信号，在不远处的网络SDR上接收到了自己发射的信号，据此估计短波传播情况。这实际上就是电离层雷达。这个案例展示出网络SDR被非合作势力利用，用来收集我方电磁情报的可能性。
+ **嗅探与回放**。收集电波信号并将其录制下来，或者人为分析信号特征后有意识地伪造，可以攻击电波表、GPS、车锁等系统。例如可以使用 HackRF One 伪造GPS信号，欺骗钉钉的电子围栏，实现不用到公司就可以上班打卡。以及克隆RFID卡（如校园卡、商场商品的RFID标签等）等回放攻击应用。再例如，在超声波载波上调制预先录制的语音，[攻击（车内的）语音助手](https://surfingattack.github.io/)。另外，还可以实现GSM伪基站，用它劫持GSM信号、嗅探短信内容手机串号等敏感信息。还有最常见的就是通过WiFi探针收集MAC地址。
+ **无线旁路攻击**。如通过无线鼠标键盘的蓝牙信号获取信息；通过高采样率加速度传感器/陀螺仪获取键盘鼠标行为、环境声音等（据说最新的Android相关API已经对采样率做了限制）；通过劣质视频电缆泄露出的信号推测视频内容；通过信号特征（频道占用度、功率、多普勒等）分析家中是否有人（穿墙雷达）；通过电源线获取目标系统的状态（对抗手段为红黑电源隔离插座等）；通过计算机泄露的射频信号分析计算机中是否存在恶意软件；密码校验算法的时间复杂度如果与密码长度有关，则攻击者很容易通过分析算法执行时间以破解密码。因而密码校验的运行时间应当与输入内容无关，并且要尽量拖延（以避免穷举攻击）。据我观察，Windows登录即有这种考虑。进一步，甚至可以分析密码匹配过程中目标系统的功耗，来推测出真实的密码。
+ **屏蔽、干扰、EMP攻击**。例如考场用的手机信号屏蔽器，攻击电子门锁的“小黑盒”，等等。以及，ATM机的键盘，被金属屏蔽罩严密保护，防止外来电磁干扰攻击，或者被从外部读取按键（明码）数据。另一方面，屏蔽罩内部有蛇形导线（类似希尔伯特曲线），若屏蔽罩被打孔、切割或拆开，会触发盒子内部的有源电路，提示盒子被攻击，进而触发自我归零或者其他防护手段。
+ **物理和机械攻击**。某些涉及安全的芯片，为防止开盖逆向等物理攻击，封装时采用预应力的设计。当芯片封装被破坏时，内部应力释放使芯片断裂而自毁。

无线安全是比较硬核的方向，一般群众甚至非本领域的技术人员，无线安全意识并不高。无线安全除了敏感信息和个人隐私上的安全，还有国防、电磁环境卫生等方面的安全。涉密不上网，上网不涉密。秘密信息，有小秘密，也有大秘密。电波无国界，业余无线电爱好者更要树立总体国家安全观。技术中立，但技术的使用必有立场。

# TSCM与反盗摄

2021-12-08

TSCM（技术监视对策，即反窃听）对于普通人来说，最常见的应用场景就是宾馆反盗摄了吧。可能的思路如下，但没实践验证过：

- 入住后，先断掉房间所有电源，目的是排除房间内可能存在的路由器等合作目标。
- 打开测向仪，检查433MHz（业余）、1.2GHz（业余）、2.4GHz（ISM，常用）频段是否有异常的强信号。如果有，则逐个确定其大致方位。由于某些频段非常拥挤，如有必要，可以打开手机热点，作为室内正常WiFi信号强度的一个简单参考。
- 恢复电源，检查以上频段是否有新的信号出现。如果有，则确定信号源方位。
- 对比2、3两步获得的结果，在可疑部位进行仔细的人工排查。如有必要，根据信号频段、强度、方位等信息，判断是否是来自房间外的WiFi信号、蓝牙信号、遥控器信号等。此外，可能需要反复开关房间电源，以同时排查外接电源的和自带电池的非合作信号源。
- 不排除盗摄设备工作在5G甚至毫米波等频段。但考虑到这些高频段穿墙能力很弱，且工作在此频段的盗摄设备似乎不多（如果有也很贵），因而不必重点考虑。

当然，专业的TSCM需要动用更多更全面的探测手段（如非线性结点探测、热成像、金属和磁场探测、透视等等），还需要安全专家的丰富经验。但是对于普通人普通住店的情形来说（像约泡偷晴、商务差旅之类的自然不算），考虑到成本和风险的平衡，确实不必大费周章，因为TSCM实在是很昂贵的。噢…对了，我忘了一件事：这世界上应该没人像我一样，带着对讲机和频谱仪到处跑吧……( °◅° )

# TODO 《空中浩劫》笔记

2022-03-29

我觉得有必要把看过的每一集《空中浩劫》做一点文字总结。实际上产品安全工作也是这样，必须收集足够多的案例（攻击情报库、风险和威胁清单等等），从案例中提取模式（安全设计模式等）。案例学习是一种被动的、事后的、唯象的、自底向上的、事件驱动的方式。那么相对的，就是主动的、事前的、理性的、自顶向下的、计划驱动的方式，比如威胁建模、渗透测试等等。不过考虑到系统的复杂性和涌现性，案例学习似乎是更直接、更可靠的方式。毕竟智者千虑必有一失、愚者千虑必有一得。人类面对复杂系统，总的来说属于愚者，该交的学费，一分钱都少不了。前人栽树后人乘凉，我们祭奠航空事故的遇难者，既是物伤其类的同理心，更是对他们的致敬，因为他们的牺牲，推动了人类航空技术在血泪中进步。无论如何，他们都应该被怀念。

人机耦合振荡

# 无缆化·航空航天无线电

## 实现“桌面无线化”的障碍

2021-10-25

电波政策方面：根据我国《物权法》，频谱是国有资源，使用频率需要经过当局指配频率，并有可能需要缴纳频率使用费。而现有免执照民用无线传输技术，一般使用所谓的ISM频段，带宽极为有限，难以容纳各类外设间通信所需带宽。

电波特性方面：高清视频等宽带信号适合在高频段内传输，例如EHF频段，即所谓的毫米波频段。但EHF传播特性近似于光波，极易受遮挡，故使用场景受限。而UHF、SHF等频段（如蓝牙），绕射特性尚可，但带宽有限。

技术与工程方面：低时延、高带宽、多连接等特性构成三元悖论，工程上难以同时满足。如果全都要，那就加钱，指数级加钱。实体线缆之间会缠绕，无线电波之间会干扰。解决干扰、多径等问题所需成本，远远高于合理布线的成本。

安全和电磁环境方面：无线通信的安全风险一般高于有线通信，相比有线通信容易被干扰、窃听、劫持等等。多设备多频段无线通信，为提升信噪比、克服干扰，需要加大功率，辐射强度容易超出控制限值、干扰其他业务。

其他方面：中远距离无线能量传输，包括通信传能一体化技术，学界已经有相关研究了，产业界也有样机出现（如小米）。但现阶段无线传能仍然不能替代220V电源线。电源线是无线化的最后障碍。

总结：由于政策、工程技术等方面的原因，桌面完全无线化，现阶段不太现实。

## 航空器无缆化

2021-05-19

无缆化是航空器航天器设计制造的一个新趋势。主要挑战大概列举一下：

- 功耗、通信距离、可靠性和速率之间的矛盾
- 复杂电磁环境下的电磁兼容（没有电缆的结构干涉，但是有电磁波在空中打架→通过认知无线电解决？）
- 金属机舱空间复杂，需要更先进的波束赋形和抗多径效应对策（RIS？）
- 高集成度、耐极端环境的XCVR
- 机械、声、光、电综合无缆通信
- 组网（民用的如ZigBee）与冗余考虑

## 航空航天计算机的可靠性

2020-11-24

关于“嫦娥”等航天器所使用的计算机和编程语言，以前看过一个知乎回答，MCU印象里是Atmel的特制芯片，μm级的工艺，配合三模冗余机制以避免高辐射环境下的单粒子翻转等硬件错误。语言无所谓，只要能编译成机器码即可。如果我来选的话，倾向于选C。另外，嫦娥上面的（部分）代码是有用到形式化验证的，参考[这篇文章](https://freebuf.com/vuls/62129.html)。

# 代码混淆

2022-02-16

前端代码混淆，我能想到的最强的方案就是WebAssembly。由于模拟漏洞的存在，更由于密码学算法依赖于某些“强”的而不是绝对的单向的算法，因而代码混淆实际上类似于门锁：它的意义在于大幅提高破解成本，而不是将攻击者绝对拒之门外。

零知识证明似乎是一种破局思路，而实现零知识证明的一个思路就是交互式证明模型。在交互式证明模型中，保存有欲保护的业务代码的后端，是证明者，而前端是验证者。工程上，我理解其实就是业务逻辑后移，后端运行核心业务逻辑代码，而前端仅仅是验证后端返回的结果。当然，在应用的层面上，这还涉及安全多方计算的问题。只不过，安全多方计算解决的是数据的安全问题，而交互式证明解决的是证明逻辑的安全问题。

零知识证明还有一种方案是非交互式证明，运用于区块链。该技术似乎是通过约定某个“公共参考字符串”来实现非交互。但计算过程中需要计算散列值，并且方法的可靠性强烈依赖于散列算法的单向性，这就又回到了最开始的问题——散列算法的单向性是密码学的基础，而散列算法可否具备“绝对”单向性目前是尚未解决的问题。从复杂度理论的视角来看，“绝对”单向算法是可以快速（多项式时间）验证但无法快速计算的问题，这就意味着，如果绝对单向算法存在，则……（待续）

美国逻辑学家皮尔士说“**概率论是量化的逻辑**”，最近调研零知识证明的时候深刻意识到这一点。计算理论总的来说是一门应用数理逻辑，最近读《计算理论导引》时，发现最后一章“高级专题”中提到了概率性图灵机的概念。由此即可引出密码学中的诸多话题，比如零知识证明，等等。

# 洋葱网络

整理于2020.5.2

**研发动机**：最初发明洋葱路由的需求是，美国国防部和情报机构希望在Internet（公网）上建立一个双向通讯系统，使得即便中间人截获通信的话也无法判定通信的源头与目的地。从一开始，研究人员就意识到仅仅设计一个在技术上能够进行流量匿名的系统是不够的，系统不能仅仅供情报人员使用。为了更好的隐藏情报人员的身份，Tor需要被很多不同的人使用，如异见人士、学生、公司雇员、记者、毒贩、黑客、甚至外国情报机构，这样才能够使得美国的间谍更容易隐蔽起来。

**原理概述**：洋葱路由利用P2P网络，把网络流量随机的通过P2P的节点进行转发，这样可以掩盖源地址与目标地址的路径，使得在Internet上难以确定使用者的身份和地址。这就好像你送一封匿名信，不是自己送或者通过邮差送，而是大街上随便找一个不认识的人让他帮你送。具体来说就是在匿名信的外层套上许多层信封，每层信封上面都有一个随机的目的地。收到信件的人拆掉最外面的信封，再把里面的部分转发到下一个目的地。这样转发多次，收信方就很难往回找到真正的发信人。

**安全性**：2012年, Roger Dingledine 在一次采访中揭示了Tor网络是按照速度快慢的来选择节点路由的优先级的。因此，**大量的Tor的流量实际上是通过少量快节点进行传送的。**Tor的开发人员Mike Perry承认，Tor在对付“强大的有组织，有能力监控大量互联网流量”的攻击者（也就是政府）方面并不那么有效。这也就是为什么目前Tor的核心程序的版本还是0.2.x的原因。瑞典黑客 Dan Egerstad 认为，许多主要的Tor节点都是由情报机构或其它希望监听Tor网络上通信的组织运营。“我不喜欢猜测，但我要告诉大家这是可能的。如果你真的寻找到这些地方的Tor节点都在什么地方托管以及它们的花费，一些节点的每月花费数千美元，因为他们托管在大型主机上，使用大量的带宽。谁会匿名提供这样的支持呢? 你会发现，**6个这样的节点里有5个是在华盛顿。**”

[参考](https://www.cnblogs.com/straybirds/p/9110854.html)

# 数据备份的“321原则”

整理时间2020.5.2，[参考](http://bbs.chinastor.com/thread-539-1-1.html)。

- 3份备份数据。
- 2种不同媒介。
- 留1份在异地。
