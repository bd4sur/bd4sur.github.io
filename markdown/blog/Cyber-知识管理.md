#!title:    知识管理策略
#!date:     2018-10-21

#!content

: **[[#ff0000:涉密不上网，上网不涉密！#]]**

# 前言

> 个人知识管理总方针：**有用、有序、安全**
盘活存量，控制增量，合理归类，妥善保存。

> 学习方针：博观约取，举一反三，求同存异，学以致用。

本文随着实践经验的积累和主客观条件的变化，经历了多次迭代改进。以下是本文的版本历史：

|版本|日期|:摘要|
|---------------|
|V0.0|2018.10.21|开始有意识地将个人知识管理工作的经验以成文规则的形式固化下来。这一版本主要聚焦数据的备份和信息安全。|
|V0.1|2018.12.11|首个完善的策略文档，提出UPDB概念，并从2019年1月开始执行。|
|V0.2|2019.04.27|开始起草日新阁图书分类法。|
|V1.0|2019.05.30|在经过几个月的试运行之后，吸收经验和教训，彻底整理UPDB中遗留的没有价值的数据、并对所有文件进行妥善归类和重命名之后，形成的第一个正式版本。|
|V1.1|2019.09.14|根据实际情况，对不必要的复杂操作做了简化。|
|V2.0|2020.04.12|根据过去一年多的经验，对上一版策略作大幅简化和重构。最主要的变动是将定期归档规则改为按需归档。|
|V3.0|2022年9月|进一步简化和重构。总结了基于硬盘全盘克隆的备份方法；完善了个人信息安全相关的表述。|

# 1.范围

本文档试图针对**个人知识管理**这一难题，给出**明确、合理、可行**的解决方案，以尽可能保持个人知识的**有用、有序、安全**。

对个人知识管理的探索，最早可以追溯到2010年。那时已经形成了非常朴素的分类思想，针对当时存量最大的照片数据，按照时间进行分类。这种照片分类方式沿用至今，数据也妥善保存至今。2013年以来，开始有意识地对个人数据作多重备份。得益于此，尽管发生过若干次意外格式化等事故，但多年来积累的照片、文档等重要数据几乎没有丢失。2018年以来，随着学习涉猎的领域逐渐拓宽，积累了不少有价值的信息，对个人知识管理有了新的需求，因此开始逐渐以知识工程和情报学的方法，来指导自己的知识管理工作。

2018年是知识管理工作从依赖于朴素直觉的“石器时代”走向依赖明确规则的“青铜时代”的分水岭。本文正是形成于这一时间节点。起草本文时，吸取以往工作的经验教训，首先提出“明确、合理、可行”这三大原则，即：

- 明确：清楚明确不含糊。
- 合理：系统化的、遵循知识管理原理。
- 可行：可操作、易于操作、符合日常直觉。

时至今日（2020年4月），知识管理工作仍然没有脱离“青铜时代”。尽管经过一年多的努力，数据的“有序”和“安全”基本得到保证，但是“有用”的目标还远远没有实现。今后的工作重点应该放在盘活数据资产上，将积累的数据真正转化为脑中的知识。

# 2.术语和定义

- [[#0000ff:**UPDB**#]]：**U**nified **P**ersonal **D**ata**B**ase，用于统一存储个人数据的存档数据集合。
- [[#0000ff:**基线**#]]：UPDB所有副本的全部数据所形成的完整、一致、有序的状态。
- [[#0000ff:**增量**#]]：UPDB两个连续基线之间的数据增量，也即在归档时所形成的、经过检查、重命名和分类的，融合到现有基线即可形成新基线的文件和元数据集合。注意，“增量”并不仅仅指每次归档时新增的文件，还包括对旧基线作删除、更改分类、更改文件名、替换新版本、修复等就地操作的日志记录（元数据）。
- [[#0000ff:**二重热备**#]]：两个状态完全一致的UPDB全量副本，数据归档时同步更新。必须保存在两个不同的物理设备上。
- [[#0000ff:**冷备份**#]]：二重热备的离线副本，不跟随每次归档而更新，在较长的时间内保持不动。
- [[#0000ff:**数据形成**#]]：日常创作、收集、筛选、分类、暂存新数据。
- [[#0000ff:**数据归档**#]]：一方面是对UPDB作更新、删除、重命名等维护操作；另一方面是将已经暂存的新数据提交、固化到UPDB。归档操作需要在两个热备副本上同时进行，以保证一致性。
- [[#0000ff:**数据备份**#]]：对某一基线的全部或部分数据制作冷备份。

为便于管理，UPDB将数据归为六大类，这六大类及其单字母简称分别是：

|音频|代码|文档|图像|软件|视频|
|---------------------------|
|A|C|D|I|S|V|

# 3.工具和环境

## 3.1 数据存储介质

**硬盘**

|设备|容量|内容|用途|
|-----------------|
|西数（机箱）|2TB|完整副本|二重热备|
|东芝（硬盘盒）|2TB|完整副本|二重热备|
|东芝（硬盘盒）|2TB|完整副本|冷备|
|希捷（移动硬盘）|1TB|部分内容副本|冷备|

**云端存储**

|服务|内容|备注|
|--------------------------|
|GitHub|个人项目代码|UPDB中有备份|
|百度网盘|部分非敏感内容|作备份和资源下载|
|Google云盘|文档|仅作备份|
|[永硕E盘](http://miku-aurora.ys168.com/)|图片、文档|分享·备份|

- 目前不需要RAID。NAS也不需要。
- 每隔一段时间应当检查硬盘健康程度，不可长期不检查、不通电。如果有任何指标出现异常，则立即转移全部数据到新硬盘。
- 硬盘应避免强烈震动，运行中的硬盘尤应避免任何震动，以免增加失效的风险。
- 避免长时间对硬盘进行高强度的读写，防止过热掉盘。

## 3.2 数据处理工具

## 3.3 环境和系统

# 4.规则和流程

## 4.1 一般规则

- 对不同种类的数据分类施策：图片和文档最重要的两类数据，音频和视频次之，软件重要性最低。
- 重要数据尽量可溯源。
- 尽量将UPDB的规模控制在2TB以内。

文件命名规范如下：

- 文件名应当足够结构化。
- 使用`-`作为分隔符。
- 空格、下划线等符号都作为普通字符看待，一般不具有字段分隔符含义。
- 尽量使用中文命名。
- 合理排序各个字段，以充分利用文件浏览器的字典序排序功能。
- 对于带有序号的一系列文件，例如表情包，为了避免序号过大，可采取日期、DeltaN后缀等命名方案。

## 4.2 数据形成

简而言之，数据形成就是挑选有保存价值的数据，并将其加入暂存区的过程。类似于Git的Add操作。

日常产生的数据，可分为“可归档”、“暂不归档”和“无需归档”三类。三类数据必须分开存放。

**A.音频**

① UPDB中只允许保留MP3、WAV、FLAC、AAC（例如M4R、AAC、MP4等后缀）格式的音频文件，其他格式一律转为MP3。
② 除极少数有必要保留无损格式的以外，所有音频文件都应该使用Lame（3.100及以上）转成CBR320K的MP3格式。Lame命令行如下：

```
lame.exe --preset insane input output
```

**C.代码**

根据需要，保存完整的版本库，或者导出的最新版本的zip包。

**D.文档**

① DOCX、PPTX等格式尽量转换成PDF格式，除非是模板性质的文件。
② TXT、Markdown等纯文本一律转换为UTF-8无BOM格式存储，换行符不做限制。
③ 纯文本尽可能保存为Markdown格式。
④ 文件名末尾应该参考 GB/T 7714 的要求注明文献格式代码，具体规则如下：

- M包括小册子、单行本
- C、G、N、EB一般不用
- J除期刊论文外，还包括各类来路不明的，但是按照论文格式撰写的文章
- R包括胶片、讲义等，还包括各类名为“白皮书”“报告”的材料
- DB还包括语料、数据
- 不使用载体代码

![GB/T 7714 附录](./image/B/GBT7714文献类型代码.png)

**I.图像**

① 严格控制准入，凡是没有长期保存必要的图片，不得纳入UPDB。
② 资料性的图片尽可能在博客中存储。
③ 尽可能保存原图（即使用图片检索找到的原图，或者经过超分辨率重建的高清图）。
④ 新图片必须恰当命名，保留日期、原作者（如PixivID、Twitter账号等）等信息，并使用短线连接，方便索引和检索。
⑤ WebP格式一般应转成JPEG、PNG等常用格式。

**S.软件**

① 严格控制准入，除系统镜像、破解工具、绝版软件、冷门驱动、装机冷启动必备等必须本地保存的软件，原则上不新增软件。
② **不涉密的**配置文件可以保存在Git等处，不必纳入UPDB。

**V.视频**

① 严格控制准入，只有确实需要入库的经典作品，才有必要入库。一般性的视频应长期保存在PC机上（即“暂不归档”）。
② 入库的外文视频一般应配备字幕。
③ 尽可能保证文件尺寸和视频质量的平衡，可以但不必要追求非常高的质量。
④ 尽量保证数据可溯源：如果是通过BT下载的，要保留种子。如果是通过网盘下载的，网盘里要有备份。
⑤ 接受MP4（HEVC、AVC）格式，不接受RMVB等格式，有限度接受MPEG、WebM（VP8、VP9）、AV1等格式。

## 4.3 数据利用

## 4.4 数据维护

数据归档操作，指的是将暂存区已经重命名并准备好的文件移动到UPDB，以及对UPDB中已有的文件进行修改、移动、删除、重命名等操作，并保持UPDB所有副本之间状态一致。这一操作必须保证原子性，绝不可拖延和中止，以避免破坏各副本之间的一致状态。

数据归档操作不再设固定的周期，只要暂存区中积累的数据达到一定数量，直觉上认为应当归档，就可以执行归档操作。

**归档前**

- 将暂存区中所有待归档的文件妥善重命名，并保证不与UPDB中现有的文件冲突（除非是替换现有文件）。
- 按照附录D，放开UPDB文件夹的权限。
- 将UPDB两个副本的窗口同时打开，与暂存区的窗口一起平铺在屏幕上，避免重叠。

**归档时**

- UPDB维护：小心执行修改、移动、删除、重命名等操作，并保证UPDB两个副本绝对一致。
- 将暂存区的文件移动到UPDB相应的目录中，并保证UPDB两个副本绝对一致。

**归档后**

- 检查UPDB两份副本的大小，必须保证完全一致。
- 按照附录D，锁定UPDB文件夹的权限。
- 记录归档操作前后的文件目录、大小等信息。

UPDB本身是二重备份的，称为**二重热备**。归档时同时对两份备份进行操作，这样既可以保证数据安全，也可以减小操作的复杂度，避免出错。

在二重热备份之外再创建副本，称为**冷备副本**。考虑到二重热备同时失效的概率极低，因此冷备副本的意义并不是恢复二重热备中的最新数据，而是为二重热备提供一个延迟，在错误归档（尤其是删除了某些数据）时能够找到以往归档的记录。

因此，无需频繁创建冷备副本，每半年到一年冷备一次即可。因为如果过分频繁地跟随二重热备更新，那么归档错误也会被备份，冷备就失去了后备意义。

**A.音频**：普通的音乐数据几乎不涉及隐私，可以上传到云端备份。自己录制的录音文件应当注意隐私安全。

**C.代码**：无论是UPDB还是公开的Git版本库，都必须保证不含有任何隐私信息，如密码、WiFi密码、邮箱、账号等。使用GitHub进行代码管理时，应确保每次push都不会上传任何敏感信息。时刻牢记，Git可以存储所有的版本历史。

**D.文档**：个人文件必须在本地存储，绝不可上传云端。日新阁藏书一般为网络收集或自购的电子书，一般不涉及隐私。但是对于DOC等可能带有个人信息的文件，上传云端或者对外分享前，必须脱敏。

**I.图像**：照片（含自己拍摄的视频）和部分图片涉及个人隐私，不可上传云端。外部收集的资料性图片和资源性图片，一般不涉及隐私，可上传云端或对外分享。

自己拍摄的照片在分享前必须脱敏，如去除EXIF信息等。（关闭相机的定位信息等功能）

**S.软件**

外部收集的软件一般不涉及隐私，可以上传云端备份。某些配置文件可能涉及隐私，需要脱敏后分享或上传。

**V.视频**

大多数视频不涉及隐私，可以上传云端。但是部分视频不可以上传云端或者对外分享，必须本地存储。

# 附录A：日新阁图书分类法（规范性）

## 图书分档分类（2021年版）

通用复分类目

- 领域史、领域年表
- 领域哲学、元理论、方法论
- 比较研究
- 领域总论、综述
- 领域关键人物传记
- 领域工具书（数表、手册、图谱、索引、术语词典等等）
- 领域法律、规章、政令、政策及其阐述

复分维度：

- 地域、语言
- 年代

**A.哲学宗教伦理心理**

- 马克思主义哲学
- 哲学
- 论理学（逻辑学）
- 宗教
- 伦理学、美学
- 心理学
- 形而上学、神秘学

**B.文艺传播教育体育**

- 文艺理论
- 文学
- 音乐、舞蹈
- 美术
- 设计
- 图书情报学、档案学、博物馆学
- 新闻、传播
- 旅游、休闲娱乐
- 教育
- 体育、竞技、健身

**C.历史地理语言文化**

- 历史、考古
- 人文地理
- 语言学
- 具体语言
- 人类、文化
- 人物传记

**D.政治法律社会时事**

- 政治、国际关系
- 法律、法学
- 社会
- 时事资料

**E.军事战备安全消防**

- 军事、公共安全
- 防卫、战备
- 一般性安全、风险控制、应急管理
- 消防、防灾、救援

**F.经济管理贸易营销**

- 经济、金融
- 管理
- 商业、贸易、市场营销

**G.数学统计电子信息**

2023年6月版本：

- 1.数学与统计
- 2.计算机
- 3.电子信息通信
- 4.系统与控制
- 5.仪器与计量
- 6.电力与电机
- 7.信息安全与对抗
- 器件设备资料

2022年1月版本：

- 1.数学与统计
- 2.计算机
- 3.电子信息通信
- 4.系统与控制
- 5.情报学

2021年7月版本：

- 1.数学
- 2.统计
- 3.计算机
- 4.电子
- 5.信息通信
- 6.系统与控制

2021年3月版本：

- 1.数学
- 2.离散数学
- 3.统计学和机器学习
- 4.人工智能和仿生学
- 5.情报学和知识工程
- 6.计算机和互联网
- 7.信息通信和自动控制
- 8.电子技术与数码设备
- 9.业余无线电

**H.物理化学天文地学**

- 物理学、力学
- 化学
- 天文学
- 地球科学

**I.医药卫生生命科学**

- 生命科学
- 生物医学工程
- 临床医学
- 基础医学
- 公共卫生、预防医学
- 药学
- 传统医学（中医）

**J.农业景观生态环境**

- 农学
- 兽医
- 风景园林
- 生态、环境

**K.工业交通工程技术**

- 0.工程技术通论
- 1.机械动力
- 2.电工电气
- 3.土木工程
- 4.矿产冶金
- 5.交通邮政
- 6.建筑环境
- 7.车辆轨交
- 8.航空航天
- 9.航海

**L.家政轻工实用技术**

- 轻工业（纺织、手工业、食品、烟酒糖茶、烟草等）
- 烹饪、酿造
- 美容、美发
- 家政、清扫、收纳
- 手工制作
- 实用技术

**X.新闻和广告**

**Y.丛书类书工具书**

**Z.杂类与元信息**

### 图像分类

2023年6月版：

- 00-照片
- 01-模因
- 02-动漫
- 03-人物
- 04-风景
- 05-美术
- 11-社会
- 12-科技
- 21-截图
- 22-头像
- 23-壁纸
- 31-无线电
- 32-暖暖


<details>

<summary>2022年版</summary>

- 01-表情趣图
- 02-动漫插画
- 03-人物
- 04-美术设计
- 05-风景摄影
- 06-截图
- 07-图像
- 11-文史时政
- 12-自然科学
- 13-电子信息
- 14-军工交通
- 15-航空航天
- 21-无线电
- 22-暖暖

</details>

<details>

<summary>2021年版</summary>

- 00.照片
- 01.表情趣图
- 02.动漫插画
- 03.人物摄影
- 04.风物纹理
- 05.截图封面
- 10.一般知识
- 11.文史地理
- 12.时政经管
- 13.数理电信
- 14.天文气象
- 15.生化农医
- 16.军工交通

</details>

### 2020年版

<details>

<summary>展开</summary>

- A.共产主义
- B.哲学宗教思维心理
- C.计算机科学
-- PLT和函数式编程
-- Web技术
-- 操作系统和体系结构
-- 程序语言和框架
-- 数据库
-- 算法和数据结构
-- 图形学和交互设计
- D.政治法律社会军事
- F.经济和管理
- G.文娱传媒教育体育
- H.语言人文历史地理
- I.文学
- J.艺术和设计
- K.绘画书法摄影图鉴
- M.信息通信和自动控制
-- 通信和控制理论
-- 通信协议与标准
-- 音视频技术
-- 信息安全与密码学
-- 业余无线电
- N.人工智能和知识工程
-- 机器学习和模式识别
-- 仿生学和脑科学
-- 运动和感知智能
-- 语言和认知智能
-- 情报学和知识工程
-- 人工智能应用
- O.数学逻辑物理化学
-- 数学
-- 逻辑学
-- 物理学
-- 化学
- P.天文学和地球科学
- Q.电子电力技术
-- 电子电路基础
-- 计算器
-- 开关电源
-- 模拟电路与放大器
-- 数字电路与嵌入式系统
-- 音响与电声技术
- R.医药卫生生命科学
- S.农业景观生态环保
- T.工业和兵器技术
- U.土木交通建筑规划
- V.航空航天航海
- W.家政手工实用技术
- X.新闻和宣传品
- Y.丛书和工具书
- Z.杂类和未分类

</details>


# 附录B：FreeFileSync用法（资料性）

# 附录C：使用远程桌面和文件共享（资料性）

- 两台电脑连接到同一局域网，**注意将网络配置文件设置为“专用”，这样才能互相发现对方。**
- 设备：工作机A，UPDB远程机B
- 在远程机上做如下配置：
-- 允许空密码：运行gpedit.msc，在计算机配置/Windows设置/安全设置/本地策略/安全选项中，找到“账户：使用空密码的本地账户……”，将其设置为“禁用”
-- 共享设置：控制面板/网络和共享中心/更改高级共享设置（左侧），在“所有网络”选项组中，选择“启用密码保护的共享”
-- 远程桌面设置：我的电脑/属性/高级系统设置/远程选项卡，勾选允许，并选择一个远程用户
- 在工作机上做如下配置：
-- 运行mstsc，输入远程计算机名并指定用户，输入密码，即可连接

# 附录D：MIUI设备上的各类目录（资料性）

|类型|:目录|
|------------|
|A.音频|网易云音乐：`\~/netease/cloudmusic/Music`<br>录音：`\~/MIUI/sound_recorder`|
|C.代码|统一移动到`~/_全局暂存区`。|
|D.文档|统一移动到`~/_全局暂存区`。<br>备忘录、各种SNS上发布的文字，通过微信复制导出。|
|I.图像|照片：`\~/DCIM/Camera`<br>其他下载图片：通过相册App移动到“【暂存区】”目录，其路径为：`\~/MIUI/Gallery/cloud/owner`|
|S.软件|统一移动到`~/_全局暂存区`。|
|V.视频|统一移动到`\~/_全局暂存区`。<br>B站缓存视频：`\~/Android/data/tv.danmaku.bili/download`|

# 附录E：Windows权限设置（资料性）

为保证UPDB不被意外修改，尤其是为了避免Premiere等软件擅自修改导入的资源文件，需要锁定PC机上的UPDB热备副本的权限：

- 禁止（当前用户，下同）修改现有文件的内容。
- 禁止删除现有文件。
- 禁止修改现有文件的属性（如文件名）和权限。
- 禁止新增文件。

释放权限（以进行增删改操作）：

+ 在`S:/UPDB`的【属性】中选择【安全】选项卡，点击【安全】按钮。
+ 删除掉“拒绝”权限。
+ 点击【确定】，等待系统将这些设置应用到全部文件。

锁定权限：

+ 在`S:/UPDB`的【属性】中选择【安全】选项卡，点击【安全】按钮。
+ 如果有【更改权限】按钮，点击之。然后点击【添加】按钮，增加一条权限。
+ 在弹出的编辑窗口中，“主体”选择当前用户，“类型”选择“拒绝”，“应用于”选择“此文件夹、子文件夹和文件”。
+ 点击右侧的【显示高级权限】，勾选：写入属性、写入扩展属性、删除子文件夹及文件、删除、更改权限。
+ 点击【确定】，等待系统将这些设置应用到全部文件。

# 参考资料

以下是20181021的草稿

**妥善存储**

- 备份前应划定数据基线，所有备份需要基于同一个基线。
- 涉及隐私的数据，例如照片等，不可以存储到云端。有收藏价值的非个人数据，例如电子书、电影、番剧、音乐等，可以存储到云端。
- 应综合使用硬盘、闪存卡、云端、CD等多种设备，进行尽可能多的备份。
- 密码等关键信息，必须有纸质备份。重要的电子书，尽可能打印纸质版。
- 要关注备份过程本身的可靠性。对于软件安装包、光盘镜像、大的压缩包这样的文件，尽量校验其Hash。
- 承上条：为避免压缩包损坏导致无法解压，重要的数据应保留未压缩的版本。

**隐私受控**

- 去除图片中的空间位置信息。
- 尽可能使用随机密码。

**恰当维护**

- 遵循“**全量备份、增量更新**”的维护策略。
- 不可以改动已备份数据。**所有更新均应在暂存区中操作。**
- 备份数据可读，但是注意读取备份数据的时候，不要破坏或修改数据，以免造成不一致。
- 以全量备份为主，部分备份为辅。注意保持部分备份的一致性。
- 不定期将暂存区中的数据进行分类、并提交到备份数据中。注意，提交的过程包括对所有备份（含全量备份和部分备份）的提交。提交后，新的备份数据仍然是一致的，并形成新的基线。

- 两个方面：一是非数字化信息的数字化，二是重要数据的实体化。

